<!-- FOR DEBUG When not commented is causing jitter -->
<link rel="stylesheet" href="../css/style.css" type="text/css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css"/>
<!-- FOR DEBUG -->

  <div id="dataDiv" class="panel panel-primary noBottomMargin">

    <div class="panel-heading draggable">

      Do you wish to create new panel? <label class="timeLabel smaller">12-12-1212</label>

      <span onclick="Err()" class="glyphicon glyphicon-remove pull-right noselect" aria-hidden="true"></span>

    </div>
    <div class="panel-body">

      <!-- BUTTON START-->
      <!-- <button class="btn addMediaBtn" type="button" onclick="Err()">
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
        <strong>ADD DATA</strong>
      </button> -->
      <!-- BUTTON END-->

      <label>Choose what to put in panel</label>
      <br />
      <div class="btn-group" role="group" aria-label="...">

        <label class="btn btn-info btn-lg">
           <input class="fileInp" onchange="putImage(this)" type="file" style="display: none;">
            <span class="glyphicon glyphicon-picture" aria-hidden="true"></span>
        </label>


        <!-- <button type="file" onclick="putImage(this)" class="btn btn-info btn-lg"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span></button> -->
        <button type="button" class="btn btn-info btn-lg" fileInp><span class="glyphicon glyphicon-facetime-video" aria-hidden="true"></span></button>
        <button type="button" class="btn btn-info btn-lg"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
      </div>


      <!-- INPUT START-->
      <!-- <label for="basic-url" class="noselect">Put Image</label>
      <div class="input-group">
        <span class="input-group-addon" id="basic-addon3">#</span>
        <input type="file" class="fileInp form-control " onchange="putImage(this)" aria-describedby="basic-addon3">
      </div> -->
      <!-- INPUT END -->


    </div>
    <span class="glyphicon glyphicon-resize-full resizer" aria-hidden="true"></span>

  </div>


<script>
  function Err(){
    // alert("ERROR: Sorry, somthing went horribly wrng.")
    console.log("ERROR: Correct JS function was not initialized for this element!");
  }

  function putImage( input ) {
    console.log("pini");
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function ( e ) {
            var img = document.createElement( 'img' );
            const targetID = input.getAttribute( "targetID" );
            img.setAttribute( "src", e.target.result );
            // console.log(e);

            img.className =  "mediaImg";
            document.getElementById( targetID ).innerHTML = img.outerHTML;

            Panels.getByProp("uuid", targetID).setPlaneSizeToHTML();
            // console.log(Panels.getByProp("uuid", targetID));
            // Panels.getByProp().setSize(clientWidth;
            // var height = img.clientHeight;
        }

        reader.readAsDataURL(input.files[0]);
    }
}
</script>
